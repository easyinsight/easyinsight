<project default="appswar" basedir="." name="caesarswar">

    <property name="out.path" value="../out"/>
    <property name="out.classes.path" value="../out/classes"/>
    <target name="appswar">
        <mkdir dir="${out.path}"/>
        <mkdir dir="${out.classes.path}"/>
        <javac destdir="${out.classes.path}"
               optimize="off"
               debug="on" failonerror="false"
               srcdir="../src"
               excludes="**/*.smap">
            <classpath>
                <fileset dir="../lib">
                    <include name="**/*.jar"/>
                </fileset>
            </classpath>
            <include name="**"/>
            <exclude name="tags/**"/>
        </javac>
        <copy todir="${out.classes.path}">
                    <fileset dir="../src">
                        <include name="**/*.properties"/>
                        <include name="**/*.xml"/>
                        <include name="**/*.jks"/>
                    </fileset>
                </copy>
        <war destfile="${out.path}/apps.war">
            <lib dir="../lib" />
            <classes dir="${out.classes.path}" />
            <fileset dir="../web" />
        </war>

    </target>
</project>