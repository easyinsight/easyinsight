<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" style="width:100%">
<!-- InstanceBegin template="/Templates/Base.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <!-- InstanceBeginEditable name="doctitle" -->
    <title>Easy Insight REST API Documentation</title>
    <!-- InstanceEndEditable -->
    <!-- InstanceBeginEditable name="head" -->
    <meta name="description" content="Documentation of invoking the Easy Insight API"/>
    <meta name="keywords" content="easy insight documentation, easy insight docs"/>
    <!-- InstanceEndEditable -->
    <link type="text/css" rel="stylesheet" media="screen" href="../css/base.css"/>
    <link href='http://fonts.googleapis.com/css?family=PT+Sans' rel='stylesheet' type='text/css'/>
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/jqvideobox.min.js"></script>
    <script type="text/javascript" src="/js/swfobject.js"></script>
    <script type="text/javascript" src="/js/jquery.lightbox-0.5.min.js"></script>
    <script type="text/javascript" src="/js/startup.js"></script>
    <link rel="stylesheet" href="/css/jquery.lightbox-0.5.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="/css/jqvideobox.css" type="text/css" media="screen"/>
</head>
<body>
<div id="whiteDiv"></div>
<div id="topMenuDiv"></div>
<div id="subMenuDiv"></div>
<div id="blackIntroWithSubMenuDiv" style="height: 200px"></div>
<div style="width:1000px;margin:0 auto;">
<div id="topBar">
    <a href="/index.html"><img src="/images/logo.jpg" alt="Easy Insight Logo" name="logo" id="logo"/></a>

    <div class="signupHeadline">
        <a href="/app/">Customer Login</a>
        <a href="/app/newaccount/">Free Trial</a>
        <a href="/contactus.html">Contact Us</a>
    </div>
</div>
<div class="headline">
    <a class="inactive" href="/product.html">Features</a>
    <a class="inactive" href="/data.html">Connections</a>
    <a class="inactive" href="/pricing.html">Pricing</a>
    <a class="inactive" href="/screencasts.html">Screencasts and Docs</a>
    <a class="active" href="/api.html">Developers</a>
</div>
<ul class="menuList">
    <li class="first"><a href="/api.html">API Introduction</a></li>
    <li><a href="restapi.html">REST API</a></li>
    <li><a href="samples.html">Samples and Wrappers</a></li>
</ul>
<div id="coreContent" style="height:200px">
    <div class="coreContentBlock">
        <h2 class="coreContentHeader">REST API Documentation</h2>

        <p class="coreContentParagraph">
            Need help using Easy Insight with the REST API? Here's the documentation to guide you through the process.
        </p>
    </div>
    <div style="padding-top:50px;padding-right:50px;margin:0px;float:right">
        <img src="/images/documents.png" alt="Documentation Image"/>
    </div>
</div>
<div id="contentHeaderStart"></div>
<div id="midContent">
<h2>Table of Contents</h2>
<ul>
    <li><a href="restapi.html#r1">What is the Easy Insight XML API?</a></li>
    <li><a href="restapi.html#r2">How do I authenticate?</a></li>
    <li><a href="restapi.html#r3">How do I make requests?</a></li>
    <li><a href="restapi.html#r4">What API calls are available?</a></li>
    <li><a href="restapi.html#r5">How about a simple example?</a></li>
    <li><a href="restapi.html#r6">Response codes reference</a></li>
    <li><a href="restapi.html#r7">defineDataSource reference</a></li>
    <li><a href="restapi.html#r8">defineCompositeDataSource reference</a></li>
    <li><a href="restapi.html#r9">addRows reference</a></li>
    <li><a href="restapi.html#r10">replaceRows reference</a></li>
    <li><a href="restapi.html#r11">updateRows reference</a></li>
    <li><a href="restapi.html#transactions">What if I have a lot of data to add?</a></li>

</ul>
<h2><a name="r1">What is the Easy Insight REST API?</a></h2>

<p>
    The Easy Insight REST API is a simple REST API for publishing data into Easy Insight.
</p>

<h2><a name="r2">How do I authenticate?</a></h2>

<p>
    The API uses basic HTTP authentication. You can either use your Easy Insight username and password or API key
    and secret key (recommended for security).
</p>

<h2><a name="r3">How do I make requests?</a></h2>

<p>
    The specifics will depend on your programming language, but as a general rule, you'll be making HTTP POSTs of
    XML to the URLs listed below. Make sure to set 'Content-Type' and 'Accept' headers to 'application/XML' to
    identify the request and response formats.
</p>

<h2><a name="r4">What API calls are available?</a></h2>

<p>
    You can make the following requests:
</p>
<ul>
    <li>
        https://www.easy-insight.com/app/xml/defineDataSource -- creates or updates a data source. If the data
        source already exists, returns a unique key you can use to pass data into the data source.
    </li>
    <li>
        https://www.easy-insight.com/app/xml/defineCompositeDataSource -- creates or updates a composite data source
        containing joins between multiple other data sources you have already defined.
    </li>
    <li>
        https://www.easy-insight.com/app/xml/addRows -- adds new rows of data to a data source.
    </li>
    <li>
        https://www.easy-insight.com/app/xml/replaceRows -- replaces the current contents of a data source with a
        new set of rows.
    </li>
    <li>
        https://www.easy-insight.com/app/xml/replaceRows -- updates certain rows within the data source based on the
        specified where clauses.
    </li>
</ul>
<h2><a name="r5">How about a simple example?</a></h2>

<p>
    For this first example, we'll create a data source with three fields and publish a row of data into the data
    source. First, XML for creating the data source, which will be a POST to
    https://www.easy-insight.com/app/xml/defineDataSource.
</p>
            <pre><code>
    &lt;defineDataSource&gt;
        &lt;dataSourceName&gt;Sample Order Database&lt;/dataSourceName&gt;
        &lt;fields&gt;
            &lt;field dataType=&quot;grouping&quot;&gt;
                &lt;key&gt;Customer&lt;/key&gt;
            &lt;/field&gt;
            &lt;field dataType=&quot;measure&quot;&gt;
                &lt;key&gt;Amount&lt;/key&gt;
            &lt;/field&gt;
            &lt;field dataType=&quot;date&quot;&gt;
                &lt;key&gt;OrderDate&lt;/key&gt;
            &lt;/field&gt;
        &lt;/fields&gt;
    &lt;/defineDataSource&gt;
            </code></pre>
<p>This call returns:</p>
            <pre><code>
    &lt;response>
        &lt;code>200&lt;/code>
        &lt;dataSourceKey>A Unique Key for the Data Source&lt;/dataSourceKey>
    &lt;/response>
            </code></pre>
<p>You can use the value returned from dataSourceKey as a unique identifier for publishing data into the data
    source. Next, we publish data source into the data source by making a POST to
    https://www.easy-insight.com/app/xml/addRows.</p>
            <pre><code>
    &lt;rows dataSourceName=&quot;Sample Order Database&quot;&gt;
        &lt;row&gt;
            &lt;Customer&gt;Acme&lt;/Customer&gt;
            &lt;Amount&gt;500&lt;/Amount&gt;
            &lt;OrderDate&gt;2010-11-12T12:00:00&lt;/OrderDate&gt;
        &lt;/row&gt;
    &lt;/rows&gt;
            </code></pre>
<p>
    The result of these calls will be a data source inside of Easy Insight with the fields of Customer, Amount, and
    OrderDate, containing one row of data.
</p>

<h2><a name="r6">Response codes reference</a></h2>

<p>
    With every call, there is a code tag returned as part of the response XML. More information is typically
    available in the rest of the XML, but as a general reference:
</p>
<ul>
    <li>200 -- everything's good, call worked</li>
    <li>400 -- something was wrong with the request</li>
    <li>401 -- bad credentials</li>
    <li>500 -- server error</li>
</ul>
<h2><a name="r7">defineDataSource reference</a></h2>

<p>
    XML POST to https://www.easy-insight.com/app/xml/defineDataSource -- creates or updates a data source. If the
    data source already exists, returns a unique key you can use to pass data into the data source.
</p>
        <pre><code>
    &lt;defineDataSource&gt;
        &lt;dataSourceName&gt;Your Data Source Name&lt;/dataSourceName&gt;
        &lt;fields&gt;
            &lt;field dataType=&quot;grouping&quot;&gt;
                &lt;key&gt;customer&lt;/key&gt;
                &lt;name&gt;Customer&lt;/name&gt;
            &lt;/field&gt;
            &lt;field dataType=&quot;measure&quot;&gt;
                &lt;key&gt;orderAmount&lt;/key&gt;
                &lt;name&gt;Order Amount&lt;/name&gt;
            &lt;/field&gt;
            &lt;field dataType=&quot;date&quot;&gt;
                &lt;key&gt;orderdate&lt;/key&gt;
                &lt;name&gt;Order Date&lt;/name&gt;
            &lt;/field&gt;
        &lt;/fields&gt;
    &lt;/defineDataSource&gt;
        </code></pre>
<p>Valid dataType attributes are grouping, measure, date, tags, latitude, longitude, and postal.</p>

<h2><a name="r8">defineCompositeDataSource reference</a></h2>

<p>
    XML POST to https://www.easy-insight.com/app/xml/defineCompositeDataSource -- creates or updates a data source.
    If the data source already exists, returns a unique key you can use to pass data into the data source.
</p>

<pre><code>
    &lt;defineCompositeDataSource&gt;
        &lt;dataSourceName&gt;Your Data Source Name&lt;/dataSourceName&gt;
        &lt;dataSources&gt;
            &lt;dataSource&gt;Contained Data Source Name or API Key&lt;/dataSource&gt;
        &lt;/dataSources&gt;
        &lt;connections&gt;
            &lt;connection&gt;
                &lt;sourceDataSource&gt;Source Data Source Name or API Key&lt;/sourceDataSource&gt;
                &lt;targetDataSource&gt;Target Data Source Name or API Key&lt;/targetDataSource&gt;
                &lt;sourceDataSourceField&gt;Join Field on the Source Data Source&lt;/sourceDataSourceField&gt;
                &lt;targetDataSourceField&gt;Join Field on the Target Data Source&lt;/targetDataSourceField&gt;
            &lt;/connection&gt;
        &lt;/connections&gt;
    &lt;/defineCompositeDataSource&gt;
        </code></pre>

<h2><a name="r9">addRows reference</a></h2>

<p>
    XML POST to https://www.easy-insight.com/app/xml/addRows -- adds new rows of data to a data source.
</p>
        <pre><code>
    &lt;rows dataSourceName=&quot;Your Data Source Name&quot;&gt;
        &lt;row&gt;
            &lt;customer&gt;Acme&lt;/customer&gt;
            &lt;orderamount&gt;500&lt;/orderamount&gt;
            &lt;orderdate&gt;2010-11-12T12:00:00&lt;/orderdate&gt;
        &lt;/row&gt;
    &lt;/rows&gt;
        </code></pre>
<h2><a name="r10">replaceRows reference</a></h2>

<p>
    XML POST to https://www.easy-insight.com/app/xml/replaceRows -- replaces the current contents of a data source
    with a new set of rows.
</p>
        <pre><code>
    &lt;rows dataSourceName=&quot;Your Data Source Name&quot;&gt;
        &lt;row&gt;
            &lt;customer&gt;Acme&lt;/customer&gt;
            &lt;orderamount&gt;500&lt;/orderamount&gt;
            &lt;orderdate&gt;2010-11-12T12:00:00&lt;/orderdate&gt;
        &lt;/row&gt;
    &lt;/rows&gt;
        </code></pre>
<h2><a name="r11">updateRows reference</a></h2>

<p>
    XML POST to https://www.easy-insight.com/app/xml/updateRows -- updates certain rows within the data source based
    on the specified where clauses.
</p>
        <pre><code>
    &lt;update&gt;
        &lt;rows dataSourceName=&quot;Your Data Source Name&quot;&gt;
            &lt;row&gt;
                &lt;customer&gt;Acme&lt;/customer&gt;
                &lt;orderamount&gt;500&lt;/orderamount&gt;
                &lt;orderdate&gt;2010-11-12T12:00:00&lt;/orderdate&gt;
            &lt;/row&gt;
        &lt;/rows&gt;
        &lt;wheres&gt;
            &lt;where whereType=&quot;string&quot;&gt;
                &lt;key&gt;customer&lt;/key&gt;
                &lt;value&gt;Acme&lt;/value&gt;
            &lt;/where&gt;
        &lt;/wheres&gt;
    &lt;/update&gt;

    &lt;update&gt;
        &lt;rows dataSourceName=&quot;Your Data Source Name&quot;&gt;
            &lt;row&gt;
                &lt;customer&gt;Acme&lt;/customer&gt;
                &lt;orderamount&gt;500&lt;/orderamount&gt;
                &lt;orderdate&gt;2010-11-12T12:00:00&lt;/orderdate&gt;
            &lt;/row&gt;
        &lt;/rows&gt;
        &lt;wheres&gt;
            &lt;where whereType=&quot;day&quot;&gt;
                &lt;key&gt;orderdate&lt;/key&gt;
                &lt;year&gt;2010&lt;/year&gt;
                &lt;day&gt;275&lt;/day&gt;
            &lt;/where&gt;
        &lt;/wheres&gt;
    &lt;/update&gt;
        </code></pre>

<h2><a name="transactions">What if I have a lot of data to add?</a></h2>
<p>
    If you have a lot of data to add, it probably won't all fit into one XML request.  It's best to split it up into
    multiple requests, using the transactional API. To begin a transactional commit, do an XML POST to
    https://www.easy-insight.com/app/xml/beginTransaction passing an operation:
    <ul>
        <li><b>add</b> - data is appended to the data source named.</li>
        <li><b>replace</b> - data replaces the current data in the data source.</li>
    </ul>
</p>

<pre><code>
    &lt;beginTransaction&gt;
        &lt;dataSourceName&gt;Your Data Source Name&lt;/dataSourceName&gt;
        &lt;operation&gt;add&lt;/operation&gt;
    &lt;/beginTransaction&gt;

</code></pre>

<p> The call will return a transaction ID in the response, which you can then use to load data into the data source,
    as below.</p>

<pre><code>
    &lt;response&gt;
        &lt;code&gt;200&lt;/code&gt;
        &lt;transactionID&gt;A Unique Key for the transaction&lt;/transactionID&gt;
    &lt;/response&gt;

</code></pre>

<p>You can then use that transaction ID to load records just like addRows/replaceRows above, but XML POST to https://www.easy-insight.com/app/xml/loadRows :</p>

<pre><code>
    &lt;rows transactionID=&quot;Given Transaction ID&quot;&gt;
        &lt;row&gt;
            &lt;Customer&gt;Acme&lt;/Customer&gt;
            &lt;Amount&gt;500&lt;/Amount&gt;
            &lt;OrderDate&gt;2010-11-12T12:00:00&lt;/OrderDate&gt;
        &lt;/row&gt;
    &lt;/rows&gt;

</code></pre>

<p> When you are finished, all of the data will be copied into the data source by committing the data with an XML POST to https://www.easy-insight.com/app/xml/commit :</p>

<pre><code>
    &lt;commit&gt;
        &lt;transactionID&gt;Given Transaction ID&lt;/transactionID&gt;
    &lt;/commit&gt;

</code></pre>

</div>
<div id="contentHeaderEnd"></div>
<div id="footer">
    <div id="linkLine">
        <div style="padding-left:15px;">
            <a href="/company.html">Company</a>
        </div>
        <div>
            |
        </div>
        <div>
            <a href="/pricing.html">Pricing</a>
        </div>
        <div>
            |
        </div>
        <div>
            <a href="/api.html">Developers</a>
        </div>
        <div>
            |
        </div>
        <div>
            <a href="/privacy.html">Privacy Policy</a>
        </div>
        <div>
            |
        </div>
        <div>
            <a href="/terms.html">Terms of Service</a>
        </div>
        <div>
            |
        </div>
        <div>
            <a href="/partners.html">Partners</a>
        </div>
        <div>
            |
        </div>
        <div>
            <a href="/contactus.html">Contact Us</a>
        </div>
    </div>
    <div style="width:100%;text-align:left;float:left;padding-left:10px;padding-top:8px">
        Copyright ©2008-2012 Easy Insight, LLC. All rights reserved.
    </div>
</div>
</div>
<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
    var pageTracker = _gat._getTracker("UA-8316271-1");
    pageTracker._trackPageview();
</script>
</body>
<!-- InstanceEnd --></html>