<div cg-busy="load" />
<div class="row">
    <div class="col-md-12"><h2>Data Sources</h2></div>
</div>
<div class="row">
    <div class="col-md-12"><p>These data sources are the different systems you've connected Easy Insight to. Click on a data source name to navigate to the reports and dashboards built on this data source or to create new reports and dashboards.</p></div>
</div>
<div class="row">
    <div class="browse-by-tag col-md-2">
        <span ng-if="tags && tags.length > 0">Browse by Tag:</span>
    </div>
    <div class="col-md-7">
        <div class="tag-list">
            <a ng-repeat="tag in tags" class="btn btn-default tag-select" ng-class="{selected: tag.enabled, active: tag.enabled}" data-toggle="button" ng-click="toggleTag(tag)">{{ tag.name }}</a>
        </div>
    </div>
    <div class="col-md-3">
        <button ng-if="user.designer" class="btn btn-default pull-right" ng-click="delete_selected()">Delete Selected</button>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
    <table class="table table-striped table-bordered table-condensed">
        <thead>
        <tr>
            <th ng-if="user.designer" style="width: 10px;"></th>
            <th>Data Source Name</th>
            <th style="width:150px">Last Refresh Time</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="data_source in data_sources | tagged:tags">
            <td ng-if="user.designer">
                <input type="checkbox" ng-model="data_source.selected" />
            </td>
            <td class="header-tr">
                <a href="/a/data_sources/{{data_source.url_key}}">{{data_source.name}}</a><i class="glyphicon-large glyphicon-tag" />
            </td>
            <td>
                {{data_source.last_refresh_time}}
            </td>
        </tr>
        </tbody>
    </table>
    </div>
</div>

