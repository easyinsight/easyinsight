<div cg-busy="load"></div>
<div class="row">
    <div class="col-md-12">
        <h2>{{data_source.name}}</h2>
    </div>
</div>
<div class="row" ng-if="tags && tags.length > 0">
    <div class="browse-by-tag col-md-2">
        Browse by Tag:
    </div>
    <div class="col-md-7">
        <div class="tag-list">
            <a ng-repeat="tag in tags" class="btn btn-default tag-select" ng-class="{selected: tag.enabled, active: tag.enabled}" data-toggle="button" ng-click="toggleTag(tag)">{{ tag.name }}</a>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
    <div ng-if="reports && reports.length == 0">You don't have any reports yet.</div>
    <table class="table table-bordered" ng-if="numKeys(folders) > 0 && !tagsEnabled()">
        <thead>
            <tr>
                <th>Folder Name</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="(key, value) in folders" ng-class="{selected_folder: (current_folder == value.id) }"><td style="font-weight:500"><a class="folder" ng-click="switch_folder(value.id)">{{value.name}}</a></td></tr>
        </tbody>
    </table>
    <table ng-if="reports && reports.length > 0" class="table table-striped table-bordered table-condensed">
        <thead>
        <tr>
            <th>Name</th>
            <th style="width:120px">Type</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="report in reports | tagged:tags:current_folder">
            <td class="header-tr">
                <a href="/app/html/{{report.type}}/{{report.url_key}}" ng-click="$event.stopPropagation()">{{report.name}}</a>
            </td>
            <td>
                <a href="/app/html/{{report.type}}/{{report.url_key}}" ng-click="$event.stopPropagation()">{{ report.type.capitalize() }}</a>
            </td>
        </tr>
        </tbody>
    </table>
    </div>
</div>