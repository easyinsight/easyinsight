<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%">
	<mx:Script>
		<![CDATA[
        import com.easyinsight.util.PopUpUtil;

        import mx.core.Application;
                    import mx.managers.PopUpManager;
                    import com.easyinsight.framework.LoginEvent;

                    private function login():void {
                        var displayObject:DisplayObject = Application.application as DisplayObject;
                        var loginDialog:LoginDialog = LoginDialog(PopUpManager.createPopUp(displayObject, LoginDialog, true));
                        loginDialog.addEventListener(LoginEvent.LOGIN, loggedIn, false, 0, true);
                        PopUpUtil.centerPopUp(loginDialog);
                    }

                    private function loggedIn(event:LoginEvent):void {
                        dispatchEvent(event);
                    }
                ]]>
	</mx:Script>
    <mx:Spacer width="100%"/>
	<mx:Button label="Log In" click="login()" id="loginButton" styleName="redButton"/>
    <mx:Spacer width="100%"/>
</mx:HBox>
