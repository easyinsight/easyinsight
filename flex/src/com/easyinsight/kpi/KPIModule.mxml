<?xml version="1.0" ?>
<mx:Module xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:kpi="com.easyinsight.kpi.*"
           width="100%" height="100%">
    <mx:Script><![CDATA[

        import mx.core.IFlexDisplayObject;
        import mx.managers.PopUpManager;

        [Bindable]
        private var _scorecardID:int;

        private var _groupID:int;
        [Bindable]
        private var _kpi:KPI;

        private var _dataSourceID:int;

        [Bindable(event="dataSourceIDChanged")]
        public function get dataSourceID():int {
            return _dataSourceID;
        }

        public function set dataSourceID(value:int):void {
            if (_dataSourceID == value) return;
            _dataSourceID = value;
            dispatchEvent(new Event("dataSourceIDChanged"));
        }

        [Bindable(event="groupIDChanged")]
        public function get groupID():int {
            return _groupID;
        }

        public function set groupID(value:int):void {
            if (_groupID == value) return;
            _groupID = value;
            dispatchEvent(new Event("groupIDChanged"));
        }

        public function set scorecardID(value:int):void {
            _scorecardID = value;
        }

        public function set kpi(value:KPI):void {
            _kpi = value;
        }

        private function onKPIEvent(event:KPIEvent):void {
            PopUpManager.removePopUp(IFlexDisplayObject(this.parent.parent));
        }
        ]]></mx:Script>
    <kpi:KPIWizard kpi="{_kpi}" scorecardID="{_scorecardID}" kpiAdded="onKPIEvent(event)"
                       kpiEdited="onKPIEvent(event)"
                       width="100%" height="100%" kpiCancel="PopUpManager.removePopUp(IFlexDisplayObject(this.parent.parent))"
                       groupID="{groupID}" dataSourceID="{dataSourceID}"/>
    <!--<mx:ViewStack selectedIndex="{stackIndex}" resizeToContent="true" width="100%" height="100%">
        <mx:Box/>

        <kpi:KPIWindow kpi="{_kpi}" scorecardID="{_scorecardID}" kpiAdded="onKPIEvent(event)"
                       kpiEdited="onKPIEvent(event)"
                       wizardMode="toWizardMode()" width="100%" height="100%" kpiCancel="PopUpManager.removePopUp(IFlexDisplayObject(this.parent.parent))"
                       groupID="{groupID}"/>
    </mx:ViewStack>-->
</mx:Module>