<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml" verticalAlign="middle">
	<mx:Script>
		<![CDATA[
			import com.easyinsight.framework.LoginEvent;
            import com.easyinsight.framework.UserName;

            import mx.messaging.config.ServerConfig;
            import com.easyinsight.framework.User;

            [Bindable]
            private var message:String;

            public function logout():void {
                User.destroy();
                ServerConfig.getChannelSet(authService.destination).logout();
                User.getEventNotifier().dispatchEvent(new LoginEvent(LoginEvent.LOGOUT));
            }
        ]]>
	</mx:Script>
	<mx:RemoteObject id="authService" destination="login">
	</mx:RemoteObject>
    <mx:Spacer width="100%"/>
    <mx:Label text="{UserName.instance().userName}"/>
    <mx:VRule height="20"/>
	<mx:Button label="Log Out" click="logout()"/>
</mx:HBox>
