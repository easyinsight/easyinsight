<?xml version="1.0" ?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" xmlns:util="com.easyinsight.util.*" backgroundColor="#FFFFFF">
    <mx:Script><![CDATA[
        import com.easyinsight.framework.NavigationEvent;
        import com.easyinsight.genredata.AnalyzeEvent;
        import com.easyinsight.listing.DescriptorAnalyzeSource;

        import mx.managers.PopUpManager;

        private var _dataSourceDescriptor:DataSourceDescriptor;

        private var _solution:Solution;

        [Bindable]
        private var dsMessage:String;

        [Bindable]
        private var tryMessage:String;

        [Bindable]
        private var createMessage:String;

        protected override function commitProperties():void {
            super.commitProperties();
            dsMessage = "You now have a data source connected to " + _solution.name + ". This\ndata source will be available to you under the My Data page.";
            tryMessage = "Try Reports Built by Other Users Against " + _solution.name;
            createMessage = "Create Your Own Reports Against " + _solution.name;
        }

        public function set dataSourceDescriptor(value:DataSourceDescriptor):void {
            _dataSourceDescriptor = value;
        }

        public function set solution(value:Solution):void {
            _solution = value;
        }

        private function toDataSource():void {
            dispatchEvent(new AnalyzeEvent(new DescriptorAnalyzeSource(_dataSourceDescriptor.id)));
            PopUpManager.removePopUp(this);
        }

        private function toReports():void {
            dispatchEvent(new NavigationEvent("Exchange", null, {viewMode: 1, displayMode: 0, solution: _solution}));
            PopUpManager.removePopUp(this);
        }
        ]]></mx:Script>
    <mx:VBox horizontalAlign="center" paddingTop="10" paddingBottom="10" paddingLeft="10" paddingRight="10">
        <mx:Text text="{dsMessage}" fontSize="18"/>
        <mx:HRule width="100%"/>        
        <mx:Label text="There are two ways to get started from here:" fontSize="16"/>
        <mx:HBox>
            <mx:Button label="{tryMessage}" click="toReports()" fontSize="18" styleName="blueButton"/>
            <mx:Button label="{createMessage}" click="toDataSource()" fontSize="18" styleName="blueButton"/>
        </mx:HBox>
        <mx:Button label="Cancel" click="PopUpManager.removePopUp(this)" fontSize="14"/>
    </mx:VBox>
</mx:VBox>