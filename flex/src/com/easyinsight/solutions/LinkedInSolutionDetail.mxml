<?xml version="1.0" ?>
<solutions:SolutionDetailRenderer xmlns:mx="http://www.adobe.com/2006/mxml"
                                  xmlns:solutions="com.easyinsight.solutions.*"
         width="100%" height="100%" paddingLeft="0" paddingBottom="0" paddingTop="0" paddingRight="0"
         verticalGap="0" backgroundColor="#818285" horizontalAlign="center">
    <solutions:states>
        <mx:State name="NotLoggedIn">
            <mx:RemoveChild target="{installButton}"/>
            <mx:RemoveChild target="{pinButton}"/>
            <mx:RemoveChild target="{startHereLabel}"/>
            <mx:RemoveChild target="{thenLabel}"/>
            <mx:AddChild relativeTo="{controlsBox}">
                <mx:VBox horizontalAlign="center" verticalAlign="middle" height="100%" verticalGap="15">
                    <mx:VBox verticalGap="0">
                        <mx:Label text="You'll need to create an account at the Personal or"/>
                        <mx:Label text="higher tier or log in before installing the solution."/>
                    </mx:VBox>
                    <mx:HBox width="100%" horizontalAlign="center">
                        <mx:Button label="Create Account" styleName="blueButton" click="createAccount()"/>
                        <mx:Spacer width="20"/>
                        <mx:Button label="Log in" styleName="blueButton" click="login()"/>
                    </mx:HBox>
                </mx:VBox>
            </mx:AddChild>
        </mx:State>
        <mx:State name="AccountBelowRequired">
            <mx:RemoveChild target="{installButton}"/>
            <mx:RemoveChild target="{pinButton}"/>
            <mx:RemoveChild target="{startHereLabel}"/>
            <mx:RemoveChild target="{thenLabel}"/>
            <mx:AddChild relativeTo="{controlsBox}">
                <mx:VBox horizontalAlign="center" verticalAlign="middle" height="100%" verticalGap="15">
                    <mx:VBox verticalGap="0">
                        <mx:Label text="This solution requires a higher account"/>
                        <mx:Label text="tier than what your current subscription."/>
                    </mx:VBox>
                    <mx:Button label="Upgrade Account" styleName="blueButton" click="upgrade()"/>
                </mx:VBox>
            </mx:AddChild>
        </mx:State>
    </solutions:states>
    <mx:Script><![CDATA[

        [Bindable]
        private var startButtonText:String = "Authorize Access";

        override protected function toNotLoggedInState():void {
            currentState = "NotLoggedIn";
        }

        override protected function toAccountBelowRequiredState():void {
            currentState = "AccountBelowRequired";
        }

        private function install():void {
            tokenService.getOAuthURL.send(39, solution.solutionID);
        }

        private function gotURL():void {
            var url:String = tokenService.getOAuthURL.lastResult as String;
            navigateToURL(new URLRequest(url));
        }
        ]]></mx:Script>
    <mx:RemoteObject destination="tokenService" id="tokenService">
        <mx:method name="getOAuthURL" result="gotURL()"/>
    </mx:RemoteObject>
    <mx:HBox width="1000" height="100%" backgroundImage="{background2}" backgroundSize="100%" paddingLeft="20"
             paddingRight="20" paddingTop="20" paddingBottom="20">
        <mx:VBox horizontalAlign="center" height="100%">
            <mx:Image source="{logo}" click="toVendorPage()"/>
            <mx:Spacer height="100%"/>
            <mx:VBox width="100%" backgroundColor="#FFFFFF" borderColor="#3370ce" borderThickness="3" cornerRadius="15" borderStyle="solid"
                    paddingTop="5" paddingBottom="5" horizontalAlign="center">
                <mx:Box height="80" verticalAlign="middle" paddingLeft="10" paddingRight="20">
                    <mx:TextArea width="370" backgroundAlpha="0" borderStyle="none" selectable="false"
                             borderThickness="0" editable="false" height="65" fontSize="16"
                             text="Want a quick glimpse into how Easy Insight works? You can connect to your LinkedIn data in a couple of clicks."/>
                </mx:Box>
                <mx:HRule width="100%" strokeColor="#3370ce"/>
                <mx:Box id="authBox"/>
                <mx:VBox id="controlsBox" paddingTop="0" paddingBottom="10">
                    <mx:Label text="Start Here:" fontSize="18" id="startHereLabel"/>
                    <mx:Button label="Authorize Access" fontSize="24" click="install()" styleName="blueButton" id="installButton"/>
                    <mx:Label text="Then copy that value here:" fontSize="18" id="thenLabel"/>
                    <mx:Button label="Enter a Pin" fontSize="24" click="installSolution()" styleName="blueButton" id="pinButton"/>
                </mx:VBox>
            </mx:VBox>
            <mx:Spacer height="100%"/>
        </mx:VBox>
        <mx:Spacer width="100%"/>
        <mx:VBox width="530" height="100%">
            <mx:VBox width="100%" backgroundColor="#FFFFFF" borderColor="#3370ce" borderThickness="3" cornerRadius="15" borderStyle="solid"
                    paddingTop="5" paddingBottom="5">
                <mx:HBox horizontalAlign="center" width="100%" fontFamily="Tahoma" fontWeight="bold">
                    <mx:Label text="Why Use Easy Insight with LinkedIn?" fontSize="18"/>
                </mx:HBox>
                <mx:HRule width="100%" strokeColor="#3370ce"/>
                <mx:HBox width="100%" horizontalAlign="center">
                    <mx:TextArea backgroundAlpha="0" borderStyle="none" selectable="false" editable="false" width="500" height="80"
                                 text="Well, you aren't going to get any tremendous insights out of this connection (hey, at least we're honest about it!), but it's a quick, free and fun way to start using Easy Insight." fontSize="16"/>
                </mx:HBox>                
            </mx:VBox>
        </mx:VBox>
    </mx:HBox>
</solutions:SolutionDetailRenderer>