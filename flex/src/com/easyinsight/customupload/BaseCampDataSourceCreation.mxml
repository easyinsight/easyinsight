<?xml version="1.0" ?>
<mx:HBox xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%" implements="com.easyinsight.customupload.IServerDataSourceCreation">
    <mx:Metadata>
		[Event(name="userConfigComplete", type="com.easyinsight.customupload.UploadConfigEvent")]
		[Event(name="userConfigCancel", type="com.easyinsight.customupload.UploadConfigEvent")]
	</mx:Metadata>
    <mx:Script><![CDATA[
        import com.easyinsight.administration.feed.FeedDefinitionData;
        import com.easyinsight.datasources.BaseCampDataSource;

        [Bindable]
        private var url:String;
        [Bindable]
        private var archivedIncluded:Boolean;
        [Bindable]
        private var inactiveIncluded:Boolean;
        [Bindable]
        private var milestoneCommentsIncluded:Boolean;
        [Bindable]
        private var todoCommentsIncluded:Boolean;

        public function get dataSourceDefinition():FeedDefinitionData {
            var obj:BaseCampDataSource = new BaseCampDataSource();
            obj.url = urlInput.text;
            return obj;
        }

        public function set dataSourceDefinition(feedDefinition:FeedDefinitionData):void {
            var ds:BaseCampDataSource = feedDefinition as BaseCampDataSource;
            url = ds.url;
            archivedIncluded = ds.includeArchived;
            inactiveIncluded = ds.includeInactive;
            milestoneCommentsIncluded = ds.includeMilestoneComments;
            todoCommentsIncluded = ds.includeTodoComments;
        }

        public function get savesCredentials():Boolean {
            return false;
        }

        public function updateDataSource(feedDefinition:FeedDefinitionData):void {
            var ds:BaseCampDataSource = feedDefinition as BaseCampDataSource;
            ds.url = urlInput.text;
            ds.includeArchived = archivedCheckbox.selected;
            ds.includeMilestoneComments = milestoneCommentsCheckbox.selected;
            ds.includeTodoComments = todoCommentsCheckbox.selected;
            ds.includeInactive = inactiveCheckbox.selected;
            ds.token = userNameInput.text;
        }

        public function validate():Boolean {
            return true;
        }]]></mx:Script>
    <mx:Form>
        <mx:FormItem label="Basecamp Path: " direction="horizontal" fontWeight="bold" fontFamily="Tahoma">
			<mx:TextInput id="urlInput" fontWeight="normal" fontFamily="Lucida Grande" text="{url}"/>
		</mx:FormItem>
        <mx:FormItem label="Example: &quot;easyinsight&quot; for &quot;easyinsight.basecamphq.com&quot;" fontSize="10"/>            
		<mx:FormItem label="Basecamp API Authentication Token: " direction="horizontal" fontWeight="bold" fontFamily="Tahoma">
			<mx:TextInput id="userNameInput" fontWeight="normal" fontFamily="Lucida Grande"/>
		</mx:FormItem>
        <mx:FormItem label="You can find the token on your Basecamp page under My Info - API Token." fontSize="10"/>
        <mx:FormItem label="Include On Hold/Inactive Projects:" direction="horizontal">
            <mx:CheckBox id="inactiveCheckbox" selected="{inactiveIncluded}"/>
            <mx:Label text="What is this?" fontSize="10" textDecoration="underline" toolTip="If you don't have a need to report on inactive projects, you can save time on your synchronization by not pulling those projects across into Easy Insight."/>
        </mx:FormItem>
        <mx:FormItem label="Include Archived Projects:" direction="horizontal">
            <mx:CheckBox id="archivedCheckbox" selected="{archivedIncluded}"/>
            <mx:Label text="What is this?" fontSize="10" textDecoration="underline" toolTip="If you don't have a need to report on archived projects, you can save time on your synchronization by not pulling those projects across into Easy Insight."/>
        </mx:FormItem>
        <mx:FormItem label="Include Milestone Comments:" direction="horizontal">
            <mx:CheckBox id="milestoneCommentsCheckbox" selected="{milestoneCommentsIncluded}"/>
            <mx:Label text="What is this?" fontSize="10" textDecoration="underline" toolTip="If you don't have a need to report on milestone comments, you can save significant time on your synchronization by not pulling that field across into Easy Insight."/>
        </mx:FormItem>
        <mx:FormItem label="Include Todo Comments:" direction="horizontal">
            <mx:CheckBox id="todoCommentsCheckbox" selected="{todoCommentsIncluded}"/>
            <mx:Label text="What is this?" fontSize="10" textDecoration="underline" toolTip="If you don't have a need to report on todo comments, you can save dramatic time on your synchronization by not pulling that field across into Easy Insight. Please note that for performance reasons, only comments associated to open todo items will be pulled across if you enable this option."/>
        </mx:FormItem>
	</mx:Form>
    <!--<mx:VRule/>
    <mx:VBox>
        <mx:VBox borderStyle="solid" cornerRadius="10"
                             backgroundColor="0xFFFFFF" verticalAlign="middle" paddingLeft="10" paddingRight="10" paddingTop="10"
                            paddingBottom="10" horizontalAlign="center">
            <mx:Image source="../assets/logos/film.png" click="video1()"
                      useHandCursor="true" buttonMode="true"/>
            <mx:LinkButton label="Video Intro" fontSize="14" click="video1()" textDecoration="underline"/>
        </mx:VBox>        
    </mx:VBox>-->
</mx:HBox>