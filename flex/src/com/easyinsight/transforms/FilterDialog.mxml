<?xml version="1.0" encoding="utf-8"?>
<util:EITitleWindow xmlns:util="com.easyinsight.util.*" xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" width="400" height="300">
	<mx:Script>
		<![CDATA[
			import mx.managers.PopUpManager;
                    import com.easyinsight.analysis.Filter;
                    import mx.collections.ArrayCollection;
                    import mx.events.ItemClickEvent;
                    import analysis.FilterDefinition;

                    private var filterDefinition:FilterDefinition;
                    private var filteredValues:ArrayCollection;

                    public function set filter(filterDefinition:FilterDefinition):void {
                        this.filterDefinition = filterDefinition;
                    }

                    public function get filter():FilterDefinition {
                        return this.filterDefinition;
                    }

                    private function handleInclusiveChange(event:ItemClickEvent):void {

                    }

                    private function save():void {
                        dispatchEvent(new FilterUpdatedEvent(filterDefinition));
                    }

                    private function cancel():void {
                        PopUpManager.removePopUp(this);
                    }
                ]]>
	</mx:Script>
	
	<mx:VBox styleName="TitleWindowContents">
		<mx:HBox>
			<mx:Label text="Filter Key:"/>
			<mx:Label id="filterKey" text="{filterDefinition.field.key}"/>	
		</mx:HBox>
		<mx:HBox>
			<mx:RadioButtonGroup id="inclusionMode" itemClick="handleInclusiveChange(event)"/>
			<mx:RadioButton groupName="inclusionMode" id="inclusiveRadio" value="Inclusive" label="Inclusive"/>
			<mx:RadioButton groupName="inclusionMode" id="exclusiveRadio" value="Exclusive" label="Exclusive"/>
		</mx:HBox>
		<mx:HBox>
			<mx:List id="includedKeysList" dataProvider="{filteredValues}"/>
		</mx:HBox>
		<mx:HBox>
			<mx:Button label="Save" id="saveButton" click="save()"/>
			<mx:Button label="Cancel" id="cancelButton" click="cancel()"/>
		</mx:HBox>			
	</mx:VBox>
</util:EITitleWindow>
