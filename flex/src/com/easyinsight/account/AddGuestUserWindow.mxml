<?xml version="1.0" ?>
<util:EITitleWindow xmlns:util="com.easyinsight.util.*" xmlns:mx="http://www.adobe.com/2006/mxml">
    <mx:Script><![CDATA[
        import com.easyinsight.framework.UserTransferObject;
        import mx.controls.Alert;
import mx.managers.PopUpManager;

        private function createConsultant():void {
            var user:UserTransferObject = new UserTransferObject();
            user.email = emailAddressInput.text;
            user.userName = userNameInput.text;
            user.name = consultantInput.text;
            userService.addConsultant.send(user);
        }

        private function addedConsultant():void {
            Alert.show("The consultant has been added to your account. Easy Insight will need to verify and activate the user before it is useable.");
            dispatchEvent(new RefreshAccountEvent());
        }
]]></mx:Script>
    <mx:RemoteObject id="userService" destination="login">
        <mx:method name="addConsultant" result="addedConsultant()"/>
    </mx:RemoteObject>
    <mx:VBox styleName="TitleWindowContents">
        <mx:TextArea editable="false" width="100%" height="130" backgroundAlpha="0"
                     text="You can add Easy Insight consultants to your account to assist with application configuration, report and goal tree creation, and so on. You will need to contact your account manager at Easy Insight or consulting@easy-insight.com to arrange the actual statement of work. Once that is done, you can add the agreed upon consultants below."/>
        <mx:Form>
            <mx:FormItem label="Consultant Name:">
                <mx:TextInput id="consultantInput"/>
            </mx:FormItem>
            <mx:FormItem label="User Name:">
                <mx:TextInput id="userNameInput"/>
            </mx:FormItem>
            <mx:FormItem label="Email Address:">
                <mx:TextInput id="emailAddressInput"/>
            </mx:FormItem>
        </mx:Form>
        <mx:HBox width="100%" horizontalAlign="center">
            <mx:Button label="Create Consultant" click="createConsultant()"/>
            <mx:Button label="Cancel" click="PopUpManager.removePopUp(this)"/>
        </mx:HBox>
    </mx:VBox>
</util:EITitleWindow>