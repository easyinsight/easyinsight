<?xml version="1.0" ?>
<mx:VBox xmlns:mx="http://www.adobe.com/2006/mxml" implements="com.easyinsight.analysis.IAnalysisItemEditor">
    <mx:Script><![CDATA[

        import mx.collections.ArrayCollection;
        import mx.collections.Sort;
        import mx.collections.SortField;

        private var _grouping:AnalysisMeasureGrouping;

        [Bindable]
        private var availableMeasures:ArrayCollection;

        public function set analysisItem(analysisItem:AnalysisItem):void {
            _grouping = analysisItem as AnalysisMeasureGrouping;
        }

        public function set analysisItems(analysisItems:ArrayCollection):void {
            availableMeasures = new ArrayCollection();
            for each (var analysisItemWrapper:AnalysisItemWrapper in analysisItems) {
                if (analysisItemWrapper.analysisItem.hasType(AnalysisItemTypes.MEASURE)) {
                    availableMeasures.addItem(analysisItemWrapper.analysisItem);
                }
            }
            var sort:Sort = new Sort();
            sort.fields = [ new SortField("display", false) ];
            availableMeasures.sort = sort;
            availableMeasures.refresh();
        }

        public function set dataSourceID(dataSourceID:int):void {
        }

        public function validate():Boolean {
            return true;
        }

        public function save(dataSourceID:int):AnalysisItem {
            return null;
        }]]></mx:Script>
</mx:VBox>