<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml" width="100%" height="100%">
	<mx:Metadata>
		[Event(name="startSession", type="com.easyinsight.collaboration.CollaborationSetupEvent")]
	</mx:Metadata> 
	<mx:Script>
		<![CDATA[
			import com.easyinsight.framework.User;
			
			private function cancel():void {
				
			}
			
			private function openSession():void {
				collabService.openCollaborationSession.send(sessionName.text, password.text);
			}
			
			private function openedSession():void {
				dispatchEvent(new CollaborationSetupEvent(sessionName.text));
			}
		]]>
	</mx:Script>
	<mx:RemoteObject id="collabService" destination="collaborationService">
		<mx:method name="openCollaborationSession" result="openedSession()"/>
	</mx:RemoteObject>
	<mx:Form>
		<mx:FormItem label="Session Name:">
			<mx:TextInput id="sessionName"/>
		</mx:FormItem>
		<mx:FormItem label="Password to Join:">
			<mx:TextInput id="password" displayAsPassword="true"/>
		</mx:FormItem>
		<mx:FormItem label="" direction="horizontal">
			<mx:Button label="Create Session" click="openSession()"/>
			<mx:Button label="Cancel" click="cancel()"/>
		</mx:FormItem>
	</mx:Form>	
</mx:Canvas>
