<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute">
	<mx:Script>
		<![CDATA[
			import com.easyinsight.util.PNGEnc;
			
			public function blah():void {
				var bd:BitmapData = new BitmapData(canvas.width, canvas.height);
				bd.draw(canvas);
				var ba:ByteArray = PNGEnc.encode(bd);
				upload.uploadPNG.send(ba);
			}
		]]>
	</mx:Script>
	<mx:RemoteObject destination="userUpload" id="upload">
		<mx:method name="uploadPNG"/>
	</mx:RemoteObject>
	<mx:Canvas id="canvas">
		<mx:VBox>
			<mx:Label text="blah"/>
			<mx:Button label="Do It!" click="blah()"/>
		</mx:VBox>	
	</mx:Canvas>	
</mx:Application>
