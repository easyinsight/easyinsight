<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" creationComplete="handleFlashVars()" xmlns:dashboard="com.easyinsight.dashboard.*"
	backgroundImage="{desktop}">
	<mx:Script>
		<![CDATA[
			import com.easyinsight.filtering.FilterRangeDefinition;
			import com.easyinsight.filtering.FilterDateRangeDefinition;
			import com.easyinsight.filtering.FilterValueDefinition;
			import com.easyinsight.filtering.FilterDefinition;
			import com.easyinsight.analysis.YahooMapDefinition;
			import com.easyinsight.analysis.MapDefinition;
			import com.easyinsight.analysis.CrosstabDefinition;
			import com.easyinsight.analysis.ChartDefinition;
			import com.easyinsight.analysis.ListDefinition;
			import com.easyinsight.analysis.AnalysisDefinition;
			
			[Bindable]
            [Embed(source="com/easyinsight/skin/osx/appleDesktop.jpg")]
            public var desktop:Class;
		
			private function handleFlashVars():void {
				var analysisID:int = int(Application.application.parameters.analysisID);
				analysisService.openAnalysisDefinition.send(analysisID);
			}
			
			private function gotAnalysisDefinition():void {				
				var analysisDefinition:AnalysisDefinition = analysisService.openAnalysisDefinition.lastResult as AnalysisDefinition;
				panel.analysisDefinition = analysisDefinition; 	
			}
			
			private function blah():void {
            	var listDefinition:ListDefinition;
            	var chartDefinition:ChartDefinition;
            	var crosstabDefinition:CrosstabDefinition;
            	var mapDefinition:MapDefinition;
            	var yahooMapDefinition:YahooMapDefinition;
            	var filterDefinition:FilterDefinition;
            	var filterValueDefinition:FilterValueDefinition;
            	var filterDateDefinition:FilterDateRangeDefinition;
            	var filterRangeDefinition:FilterRangeDefinition;
            }
		]]>
	</mx:Script>
	<mx:RemoteObject id="analysisService" destination="analysisDefinition">		
		<mx:method name="openAnalysisDefinition" result="gotAnalysisDefinition()"/>
	</mx:RemoteObject>
	<mx:Style source="com/easyinsight/skin/osx/OSX.css"/>
	<mx:VBox width="100%" height="100%">		
		<dashboard:EmbeddedViewPanel id="panel"/>
	</mx:VBox>
</mx:Application>
