<?xml version="1.0" ?>
<mx:Form xmlns:mx="http://www.adobe.com/2006/mxml" paddingLeft="0" paddingTop="0" paddingRight="0" paddingBottom="0"
        implements="com.easyinsight.dbservice.IDatabaseSettings">
    <mx:Metadata>
        [Event(name="databaseValidation", type="com.easyinsight.dbservice.DBValidationEvent")]
    </mx:Metadata>
    <mx:Script><![CDATA[
        [Bindable]
        private var _databaseHost:String = "localhost";
        [Bindable]
        private var _databasePort:String = "3306";
        [Bindable]
        private var _databaseName:String;
        [Bindable]
        private var _databaseUserName:String;
        [Bindable]
        private var _databasePassword:String;

        public function createSettings():DatabaseConfiguration {
            var config:MySQLConfiguration = new MySQLConfiguration();
            config.host = databaseHostInput.text;
            config.port = databasePortInput.text;
            config.databaseName = databaseNameInput.text;
            config.userName = databaseUserNameInput.text;
            config.password = databasePasswordInput.text;
            return config;
        }

        private function validateDatabase():void {
            dispatchEvent(new DBValidationEvent(createSettings()));
        }
        ]]></mx:Script>
    <mx:FormItem label="Database Host: ">
        <mx:TextInput id="databaseHostInput" text="{_databaseHost}"/>
    </mx:FormItem>
    <mx:FormItem label="Database Port: ">
        <mx:TextInput id="databasePortInput" text="{_databasePort}"/>
    </mx:FormItem>
    <mx:FormItem label="Database Name: ">
        <mx:TextInput id="databaseNameInput" text="{_databaseName}"/>
    </mx:FormItem>
    <mx:FormItem label="Database User Name: ">
        <mx:TextInput id="databaseUserNameInput" text="{_databaseUserName}"/>
    </mx:FormItem>
    <mx:FormItem label="Database Password: ">
        <mx:TextInput id="databasePasswordInput" displayAsPassword="true" text="{_databasePassword}"/>
    </mx:FormItem>    
    <mx:NumberValidator id="numberValidator" source="{databasePortInput}" property="text"/>
</mx:Form>